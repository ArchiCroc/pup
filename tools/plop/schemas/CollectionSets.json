{ "name": "Collection/Sets",
  "permissions": {
    "read": "user",
    "save": "admin",
    "delete": "admin"
  },
  "menu": {
    "index": "admin"
  },    
  "schemaImports": ["import slugify from 'slugify';"],
  "fields": {
    "_id": {
      "primaryKey": true,
      "type": "ObjectID",
      "input": "Hidden",
      "validate" : {
        "max": 24,
        "optional": true
      }
    },
    "name": {
      "labelKey": true,
      "type": "String",
      "input": "Text",
      "validate" : {
          "max": 256
      }
    },
    "number": {
      "labelKey": true,
      "label": "Set Number",
      "type": "String",
      "input": "Text",
      "validate" : {
          "max": 8
      }
    },
    "year": {
      "type": "Int",
      "input": "Text",
      "showInTableView": false
    },
    "themes": {
      "type": "CrossReference",
      "input": {
        "name": "themeIds",
        "type": "[ObjectID]",
        "input": "CrossReferenceSearch",
        "uniforms": {
          "multiple": true
        }
      },
      "reference": {
        "type": "[CollectionTheme]",
        "query": "collectionThemes",
        "edges": "collectionThemes",
        "labelField": "name",
        "valueField": "_id"
      },
      "resolver": "collectionThemeQueries.collectionTheme",
      "showInTableView": true
    },
    "partCount": {
      "type": "Int",
      "input": "Text",
      "clean": "(item) => parseInt(item, 10);",
      "showInTableView": false
    },
    "inventory": {
      "type": "Object",
      "input": "List",
      "showInTableView": false,
      "fields": {
        "element": {
          "type": "CrossReference",
          "input": {
            "name": "elementId",
            "type": "ObjectID",
              "input": "CrossReferenceSearch",
              "uniforms": {
                "multiple": true
              }
          },
          "reference": {
            "type": "CollectionElement",
            "query": "collectionElements",
            "edges": "collectionElements",
            "labelField": "name",
            "valueField": "_id"
          },
          "resolver": "collectionElementQueries.collectionElement",
          "showInTableView": true,
          "dataIndex": "name"
        },
        "partCount": {
          "type": "Int",
          "input": "Text",
          "showInTableView": false
        },
        "spareCount": {
          "type": "Int",
          "input": "Text",
          "showInTableView": false
        }
      }
    },
    "createdAtUTC": {
      "type": "DateTime",
      "showInTableView": "Created At"
    },
     "createdBy": {
      "type": "CrossReference",
      "input": {
        "name": "createdById",
        "type": "String"
      },
      "reference": {
        "type": "User",
        "labelField": "fullName",
        "valueField": "_id"
      },
      "showInTableView": false
    },
    "updatedAtUTC": {
      "type": "DateTime",
      "showInTableView": "Updated At"
    },
    "updatedBy": {
      "type": "CrossReference",
      "input": {
        "name": "updatedById",
        "type": "String"
      },
      "reference": {
        "type": "User",
        "labelField": "fullName",
        "valueField": "_id"
      },
      "showInTableView": false
    }
  },
  "defaultSortField": "name",
  "defaultSortOrder": "ascend"
}
