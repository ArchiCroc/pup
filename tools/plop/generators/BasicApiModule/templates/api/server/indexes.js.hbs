import createIndex from '{{apiPathOffset}}../../../modules/server/createIndex';
import {{ pascalCase pluralName }} from '../{{ pascalCase pluralName }}';

{{#each schema.fields}}
  {{#if this.index}}
createIndex({{ pascalCase @root.pluralName }}, { {{ @key }}: 1 });
  {{else}}
    {{#compare primaryKeyField '!==' '_id' '&&' primaryKeyField '==' @key   }}
createIndex({{ pascalCase @root.pluralName }}, { {{primaryKeyField}}: 1 });
    {{/compare}}
    {{#compare primaryKeyField '!==' urlKeyField '&&' urlKeyField '===' @key  }}
createIndex({{ pascalCase @root.pluralName }}, { {{urlKeyField}}: 1 });
    {{/compare}}
  {{/if}}
{{/each}}
