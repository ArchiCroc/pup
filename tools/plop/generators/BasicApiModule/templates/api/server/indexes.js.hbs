import createIndex from '../../../modules/server/createIndex';
import {{ pascalCase name }} from '../{{ pascalCase name }}';

{{#each schema.fields}}
  {{#if this.index}}
createIndex({{ pascalCase @root.name }}, { {{ @key }}: 1 });
  {{else}}
    {{#compare primaryKeyField '!==' '_id' '&&' primaryKeyField '==' @key   }}
createIndex({{ pascalCase @root.name }}, { {{primaryKeyField}}: 1 });
    {{/compare}}
    {{#compare primaryKeyField '!==' urlKeyField '&&' urlKeyField '===' @key  }}
createIndex({{ pascalCase @root.name }}, { {{urlKeyField}}: 1 });
    {{/compare}}
  {{/if}}
{{/each}}
