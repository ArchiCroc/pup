import {{ pascalCase name }} from './{{ pascalCase name }}';
// import { isAdmin } from '../Users/actions/checkIfAuthorized';

export default {
  {{ camelCase name }}: (parent, args, context) =>
    context.user && context.user._id ? {{ pascalCase name }}.find().fetch() : [],
  my{{ pascalCase name }}: (parent, args, context) =>
    context.user && context.user._id ? {{ pascalCase name }}.find({ {{userKeyField}}: context.user._id }).fetch() : [],
  {{ camelCase (singular name) }}: (parent, args, context) => {
  {{#compare primaryKeyField '===' urlKeyField }}
    return {{ pascalCase name }}.findOne({ {{primaryKeyField}}: args.{{primaryKeyField}}  });
  {{else}}
    if (args.{{ primaryKeyField }}) {
      return {{ pascalCase name }}.findOne({ {{primaryKeyField}}: args.{{primaryKeyField}}  });
    } 
    if (args.{{ urlKeyField }}) {
      return {{ pascalCase name }}.findOne({ {{urlKeyField}}: args.{{urlKeyField}}  });
    } 
    return null;
  {{/compare}}
  }
  /* #### PLOP_QUERIES_START #### */
  /* #### PLOP_QUERIES_END #### */
};
